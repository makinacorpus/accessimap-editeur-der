<h3>
    <span class="fa fa-cog" aria-hidden="true"></span>
    Paramètres
</h3>

<form>
    
    <div class="form-group">
        <label>Titre</label>
        <input type="text" 
            ng-model="$ctrl.title" 
            class="form-control input-lg">
    </div>

    <div class="form-group">
        <label>Trame de fond</label>
        <ui-select 
            ng-model="$ctrl.backgroundStyle" 
            ng-change="$ctrl.updateBackgroundStyle($ctrl.backgroundStyle)" 
            ng-disabled="disabled" 
            theme="bootstrap" 
            class="form-control style-selector">

            <ui-select-match 
                placeholder="Sélectionnez un style">
                {{$select.selected.name}}
            </ui-select-match>

            <ui-select-choices repeat="item in $ctrl.backgroundStyleChoices | filter: $select.search">
                <span ng-bind-html="item.name | highlight: $select.search"></span>
                <span ng-bind-html="$ctrl.featureIcon(item, 'polygon')"></span>
            </ui-select-choices>

        </ui-select>
    </div>

    <div class="form-group">
        <label>Couleur de fond</label>
        <ui-select 
            ng-model="$ctrl.backgroundColor" 
            ng-change="$ctrl.updateBackgroundColor($ctrl.backgroundColor)" 
            theme="bootstrap" 
            class="form-control style-selector">

            <ui-select-match 
                placeholder="Sélectionnez une couleur de fond">
                {{$ctrl.backgroundColor.name}}
            </ui-select-match>

            <ui-select-choices repeat="item in $ctrl.colors">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>

        </ui-select>
    </div>

    <div class="form-group">
        <label>Format du dessin en relief</label>
        <select 
            ng-model="$ctrl.mapFormat" 
            class="form-control" 
            ng-options="format as data.name for (format, data) in $ctrl.formats">
        </select>
<!--
        <ui-select 
            ng-model="$ctrl.mapFormat" 
            theme="bootstrap" 
            class="form-control style-selector">

            <ui-select-match placeholder="Sélectionnez un format">{{$ctrl.mapFormat.name}}</ui-select-match>
            <ui-select-choices repeat="item in $ctrl.formats">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>

        </ui-select>
-->
    </div>

    <div class="form-group">
        <label>Format de légende en braile</label>
        <select 
            ng-model="$ctrl.legendFormat" 
            class="form-control" 
            ng-options="format as data.name for (format, data) in $ctrl.formats">
        </select>
<!--
        <ui-select 
            ng-model="$ctrl.legendFormat" 
            theme="bootstrap" 
            class="form-control style-selector">

            <ui-select-match placeholder="Sélectionnez un format">{{$ctrl.legendFormat.name}}</ui-select-match>
            <ui-select-choices repeat="item in $ctrl.formats">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>

        </ui-select>
-->
    </div>

    <h4>Fond de carte OSM</h4>
    
    <div class="form-group">

        <div>
            <label>Afficher la carte</label>
            <div class="btn-group">
                <!-- Drawing -->
                <button class="btn btn-default" 
                        ng-class="{ 'active' : $ctrl.isMapVisible }" 
                        ng-click="$ctrl.showMap()">
                    Oui
                </button>
                <!-- Legend -->
                <button class="btn btn-default" 
                        ng-class="{ 'active' : ! $ctrl.isMapVisible }"
                        ng-click="$ctrl.hideMap()">
                    Non
                </button>
            </div>
        </div>
        
        <div>
            <label>Figer la carte</label>
            <div class="btn-group">
                <!-- Drawing -->
                <button class="btn btn-default" 
                        ng-class="{ 'active' : $ctrl.isMapFreezed }"  
                        ng-disabled="! $ctrl.isMapVisible" 
                        ng-click="$ctrl.freezeMap()">
                    Oui
                </button>
                <!-- Legend -->
                <button class="btn btn-default" 
                        ng-class="{ 'active' : ! $ctrl.isMapFreezed }" 
                        ng-disabled="! $ctrl.isMapVisible" 
                        ng-click="$ctrl.unFreezeMap()">
                    Non
                </button>
            </div>
        </div>

        <!-- rotate slider -->
        <label>Rotation</label>
        <div class="input-group">
            <span class="input-group-addon">
            <span class="fa fa-repeat" aria-hidden="true"></span>
            </span>
            <slider class="form-control slider-container" 
                    ng-model="$ctrl.rotationAngle" 
                    ng-change="$ctrl.rotateMap()" 
                    ng-disabled="! $ctrl.isMapVisible" 
                    min="0" 
                    max="360"
                    ></slider>
        </div>

        <button class="btn btn-primary btn-block" 
                ng-click="$ctrl.displayMapToolbox()">
            <span class="fa fa-map-o" aria-hidden="true"></span> 
            Editer la carte
        </button>
    </div>

    <div class="form-group">
        <label>Dessin</label>

        <button class="btn btn-primary btn-block" 
                ng-click="$ctrl.displayDrawingToolbox()">
            <span class="fa fa-pencil" aria-hidden="true"></span> 
            Editer le dessin
        </button>
    </div>

    <h4>Commentaires de transcription</h4>
    <div class="form-group">
        <textarea 
            class="form-control" 
            ng-model="$ctrl.comment" 
            rows="10" 
            style="resize:none"
            id="comment">
        </textarea>
    </div>

</form>