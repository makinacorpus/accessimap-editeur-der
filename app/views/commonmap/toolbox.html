
<form class="form-inline">
    <!-- editing modes -->
    <div class="btn-group">
        <a 
            ng-click="model.mode = 'default'" 
            ng-class="{ 'active' : model.mode == 'default' }" 
            class="btn btn-primary active">
            Consulter
        </a>
        <a 
            ng-click="model.mode = 'undo'" 
            ng-class="{ 'active' : model.mode == 'undo', 'disabled' : !model.deletedFeature }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> 
            Annuler
        </a>
        <a 
            ng-click="model.mode = 'point'" 
            ng-class="{ 'active' : model.mode == 'point' }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 
            Point
        </a>
        <a 
            ng-click="model.mode = 'line'" 
            ng-class="{ 'active' : model.mode == 'line' }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 
            Ligne
        </a>
        <a 
            ng-click="model.mode = 'circle'" 
            ng-class="{ 'active' : model.mode == 'circle' }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 
            Cercle
        </a>
        <a 
            ng-click="model.mode = 'polygon'" 
            ng-class="{ 'active' : model.mode == 'polygon' }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 
            Polygone
        </a>
        <a 
            ng-click="model.mode = 'addtext'" 
            ng-class="{ 'active' : model.mode == 'addtext' }" 
            class="btn btn-primary">
            <span class="glyphicon glyphicon-font" aria-hidden="true"></span> 
            Texte
        </a>
    </div>

    <!-- reset view -->
    <div class="btn-group">
        <a ng-click="methods.resetView()" class="btn btn-primary">
            <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span> 
            Vue initiale
        </a>
    </div>

    <!-- styles selectbox -->
    <div class="input-group">
        <span class="input-group-addon" id="basic-addon1">Trame de fond</span>

        <ui-select 
            ng-model="model.containerStyle" 
            ng-change="methods.changeContainerStyle(model.containerStyle)" 
            ng-disabled="disabled" 
            theme="bootstrap" 
            class="form-control style-selector" 
            style="width: 200px;">

            <ui-select-match placeholder="Sélectionnez un style">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="item in model.containerStyleChoices | filter: $select.search">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
                <div ng-bind-html="methods.featureIcon(item, 'polygon')"></div>
            </ui-select-choices>

        </ui-select>

    </div>

    <div class="input-group">
        
        <ui-select 
            ng-show="model.mode === 'point' || model.mode === 'line' || model.mode === 'polygon' || model.mode === 'circle'" 
            ng-model="model.styleChosen" 
            ng-change="methods.updatePolygonStyle()" 
            ng-disabled="disabled" 
            theme="bootstrap" 
            class="form-control style-selector" 
            style="width: 300px;">
            
            <ui-select-match placeholder="Sélectionnez un style">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="item in model.styleChoices | filter: $select.search">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
                <div ng-bind-html="methods.featureIcon(item, model.mode)"></div>
            </ui-select-choices>

        </ui-select>

        <ui-select 
            ng-if="model.mode === 'polygon' || model.mode === 'circle'" 
            ng-model="model.colorChosen" 
            ng-change="methods.changeColor()" 
            ng-disabled="disabled" 
            theme="bootstrap" 
            class="form-control style-selector" 
            style="width: 300px;">
            
            <ui-select-match placeholder="Couleur de fond">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices 
                repeat="item in model.colors | filter: $select.search" 
                style="max-height: 500px;">
                <span 
                    style="display:inline-block;" 
                    ng-bind-html="item.name | highlight: $select.search"></span>
            </ui-select-choices>

        </ui-select>
        
        <span 
            ng-if="model.mode === 'polygon' || model.mode === 'circle'" 
            class="input-group-addon" id="basic-addon1">
            <input 
                type="checkbox" 
                ng-model="model.checkboxModel.contour" 
                ng-change="methods.updatePolygonStyle()">
            <span class="glyphicon glyphicon-unchecked" aria-hidden="true"></span>
        </span>
        
        <ui-select 
            ng-show="model.mode === 'addtext'" 
            ng-model="model.fontChosen" 
            ng-change="methods.changeTextColor()" 
            theme="bootstrap" 
            class="form-control style-selector" 
            style="width: 300px;">

            <ui-select-match placeholder="Sélectionnez une police">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="item in model.fonts | filter: $select.search">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>

        </ui-select>
    
        <ui-select 
            ng-show="model.mode === 'addtext'" 
            ng-model="model.fontColorChosen" 
            theme="bootstrap" 
            class="form-control style-selector" 
            style="width: 300px;">

            <ui-select-match placeholder="Sélectionnez une couleur">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="item in model.fontColors[model.fontChosen.color] | filter: $select.search">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>

        </ui-select>

    </div>

    <!-- export file -->
    <div class="input-group pull-right">
        <div class="input-group">
            <input 
                type="text" 
                class="form-control" 
                ng-model="model.filename" 
                placeholder="Nom du fichier">
            
            <span class="input-group-addon" id="basic-addon2">.zip</span>
        </div>
        
        <span class="input-group-btn">
            <button 
                class="btn btn-danger pull-right" 
                ng-click="methods.mapExport(model.filename)" 
                type="button">
                <span class="glyphicon glyphicon-download" aria-hidden="true"></span> 
                Exporter
            </button>
        </span>
    </div>

</form>
